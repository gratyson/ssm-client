<h3 class="files-edit-title">File List</h3>
<div class="files-edit">
    <error-msg [message]="errorMsg" />

    <button mat-button class="unlock-button" (click)="unlockSecret()" [disabled]="isSecretUnlocked"><mat-icon>lock_open</mat-icon>Unlock</button>

    <div class="file-list">
        <div class="new-file-row">
            <span [class]="'new-file-prompt' + (!isSecretUnlocked ? ' new-file-prompt-disabled' : '')">Upload New File</span>
            <button mat-icon-button [disabled]="!isSecretUnlocked" (click)="onUploadFile()"><mat-icon>upload</mat-icon></button>
            
        </div>
        @for(secretFile of secretFiles; track $index) {
            <secret-file [file]="secretFile" [isSecretUnlocked]="isSecretUnlocked" (fileDeleted)="onFileDeleted($index)" (downloadFile)="onDownloadFile($event)" />
        }
    </div>
</div>

<input #fileUpload type="file" class="file-input" (change)="onFileSelected($event)" accept="*/*">
<a #downloadAnchor href="#" class="download-anchor" download></a>